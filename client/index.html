<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <title>Digitales Schwarzes Brett</title>
    </head>

    <body>
        <canvas id="ctx" width="500" height="500" style="border:1px solid #000; background-color: #aaa"></canvas>
        <div id="input" style="float:left">
            <h2>Input</h2>
            <input id="msg" type="text" placeholder="Type message">
            <button type="submit" onclick="sendDate()">Send</button>
        </div>


        <!--Scripts down here-->
        <script src="/socket.io/socket.io.js"></script>
        <script>

            var ctx = document.getElementById("ctx").
            getContext("2d")
            ctx.font = "30px Arial"
        
            var socket = io();

            var sendDate = function(){
                socket.emit("date",{
                    content:document.getElementById("msg").value,
                });
            }

            socket.on("recentData",function(data){
                ctx.clearRect(0,0,500,500);
                for (var i = 0; i<data.length; i++){
                    ctx.fillText(data[i].text, data[i].x, data[i].y)
                }
            });

            socket.on("serverLog", function(data){
                console.log(data.log);
            });
        
        </script>

    </body>
</html>